{"ast":null,"code":"export default {\n  name: 'VueModal',\n  props: {\n    value: {\n      type: [Boolean]\n    },\n    closeable: {\n      type: [Boolean],\n      default: true\n    },\n    backdrop: {\n      type: [Boolean],\n      default: true\n    }\n  },\n\n  data() {\n    return {\n      visible_footer: false\n    };\n  },\n\n  computed: {\n    visible: {\n      get() {\n        return this.value;\n      },\n\n      set(value) {\n        this.$emit('input', value);\n      }\n\n    }\n  },\n  methods: {\n    hideModal() {\n      this.visible = false;\n    },\n\n    onClickBackdrop() {\n      if (this.backdrop) {\n        this.hideModal();\n      }\n    },\n\n    onClickClose() {\n      if (this.closeable) {\n        this.hideModal();\n      }\n    },\n\n    async onClickVisible() {\n      this.visible_footer = true;\n      await this.$nextTick();\n      console.log(this.$refs.footer);\n    }\n\n  },\n\n  mounted() {\n    let body = document.querySelector('body');\n    body.appendChild(this.$el);\n  },\n\n  beforeDestroy() {\n    this.$el.remove();\n  }\n\n};","map":{"version":3,"mappings":"AAqBA;EACAA,gBADA;EAEAC;IACAC;MACAC;IADA,CADA;IAIAC;MACAD,eADA;MAEAE;IAFA,CAJA;IAQAC;MACAH,eADA;MAEAE;IAFA;EARA,CAFA;;EAeAE;IACA;MACAC;IADA;EAGA,CAnBA;;EAoBAC;IACAC;MACAC;QACA;MACA,CAHA;;MAIAC;QACA;MACA;;IANA;EADA,CApBA;EA8BAC;IACAC;MACA;IACA,CAHA;;IAIAC;MACA;QACA;MACA;IACA,CARA;;IASAC;MACA;QACA;MACA;IACA,CAbA;;IAcA;MACA;MACA;MACAC;IACA;;EAlBA,CA9BA;;EAkDAC;IACA;IACAC;EACA,CArDA;;EAsDAC;IACA;EACA;;AAxDA","names":["name","props","value","type","closeable","default","backdrop","data","visible_footer","computed","visible","get","set","methods","hideModal","onClickBackdrop","onClickClose","console","mounted","body","beforeDestroy"],"sourceRoot":"src/components","sources":["vue-modal.vue"],"sourcesContent":["<template>\n  <div class=\"vue-modal\" :class=\"{ 'is-active' :  visible }\" @click.self=\"onClickBackdrop\">\n    <div class=\"vue-modal-wrap\">\n      <div class=\"vue-modal-header\">\n        <slot name=\"header\"></slot>\n        <div class=\"vue-modal-close\" v-if=\"closeable\" @click=\"onClickClose\">\n          X\n        </div>\n      </div>\n      <div class=\"vue-modal-body\" ref=\"body\">\n        <button @click=\"onClickVisible\"> visible footer</button>\n        <slot></slot>\n      </div>\n      <div class=\"vue-modal-footer\" ref=\"footer\" v-if=\"visible_footer\"> \n        <h3>This is footer</h3>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name : 'VueModal',\n    props:{\n      value :{\n        type:[ Boolean ]\n      },\n      closeable:{\n        type: [ Boolean ],\n        default : true\n      },\n      backdrop:{\n        type: [ Boolean ],\n        default : true\n      }\n    },\n    data(){\n      return {\n        visible_footer : false\n      }\n    },  \n    computed:{\n      visible: {\n        get(){\n          return this.value \n        },\n        set(value){\n          this.$emit('input', value)\n        }\n      }\n    },\n    methods:{\n      hideModal(){\n        this.visible = false\n      },\n      onClickBackdrop(){\n        if( this.backdrop ){\n          this.hideModal()\n        }\n      },\n      onClickClose(){\n        if( this.closeable ){\n          this.hideModal()\n        }\n      },\n      async onClickVisible(){\n        this.visible_footer = true \n        await this.$nextTick()\n        console.log(this.$refs.footer);\n      }\n    },\n    mounted(){\n      let body = document.querySelector('body')\n      body.appendChild(this.$el)\n    },\n    beforeDestroy() {\n      this.$el.remove()\n    },\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .vue-modal{\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    z-index: 999;\n    background: rgba(0,0,0,0.5);\n    transition: all 0.3s ease;\n    opacity: 0;\n    visibility: hidden;\n    text-align: center;\n    overflow: hidden auto;\n    &:before {\n      display: inline-block;\n      width: 0;\n      height: 100%;\n      vertical-align: middle;\n      content: '';\n    }\n    &.is-active{\n      opacity: 1;\n      visibility: visible;\n    }\n    &-wrap{\n      top: 0;\n      display: inline-block;\n      vertical-align: middle;\n      width: 400px;\n      background: #ffffff;\n      text-align: left;\n      \n    }\n    &-header{\n      padding:  12px 16px;\n      border-bottom: 1px solid #ccc;\n      position: relative;\n    }\n    &-body{\n      padding:  12px 16px;\n      min-height: 20px;\n    }\n    &-footer{\n      padding:  12px 16px;\n      border-top: 1px solid #ccc;\n    }\n    &-close{\n      position: absolute;\n      top: 15px;\n      right: 15px;\n      z-index: 1;\n      cursor: pointer;\n      opacity: 0.5;\n      &:hover{\n        opacity: 1;\n      }\n    }\n  }\n</style>"]},"metadata":{},"sourceType":"module"}