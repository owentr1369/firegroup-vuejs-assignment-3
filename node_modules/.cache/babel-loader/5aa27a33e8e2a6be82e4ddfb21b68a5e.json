{"ast":null,"code":"import { default as instance } from \"axios\";\nlet axios = instance.create({\n  baseURL: process.env.VUE_APP_API,\n  timeout: 60 * 1000,\n  validateStatus: function (status) {\n    return status >= 200 && status < 400;\n  }\n});\naxios.CancelToken = instance.CancelToken;\naxios.isCancel = instance.isCancel;\naxios.interceptors.request.use(function (config) {\n  let token = localStorage.get(\"access_token\");\n\n  if (token) {\n    config.headers[\"Authorization\"] = \"Bearer \" + token;\n  }\n\n  return config;\n});\naxios.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  if (error.response.status === 401) {\n    store.dispatch(\"auth/logout\");\n  }\n\n  return Promise.reject(error.response);\n});\nexport default axios;","map":{"version":3,"names":["default","instance","axios","create","baseURL","process","env","VUE_APP_API","timeout","validateStatus","status","CancelToken","isCancel","interceptors","request","use","config","token","localStorage","get","headers","response","error","store","dispatch","Promise","reject"],"sources":["/Users/trantam/Documents/FireGroup/firegroup-vuejs-assignment-3/src/plugins/axios.js"],"sourcesContent":["import { default as instance } from \"axios\";\nlet axios = instance.create({\n  baseURL: process.env.VUE_APP_API,\n  timeout: 60 * 1000,\n  validateStatus: function (status) {\n    return status >= 200 && status < 400;\n  },\n});\naxios.CancelToken = instance.CancelToken;\naxios.isCancel = instance.isCancel;\naxios.interceptors.request.use(function (config) {\n  let token = localStorage.get(\"access_token\");\n  if (token) {\n    config.headers[\"Authorization\"] = \"Bearer \" + token;\n  }\n  return config;\n});\naxios.interceptors.response.use(\n  function (response) {\n    return response;\n  },\n  function (error) {\n    if (error.response.status === 401) {\n      store.dispatch(\"auth/logout\");\n    }\n    return Promise.reject(error.response);\n  },\n);\nexport default axios;\n"],"mappings":"AAAA,SAASA,OAAO,IAAIC,QAApB,QAAoC,OAApC;AACA,IAAIC,KAAK,GAAGD,QAAQ,CAACE,MAAT,CAAgB;EAC1BC,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,WADK;EAE1BC,OAAO,EAAE,KAAK,IAFY;EAG1BC,cAAc,EAAE,UAAUC,MAAV,EAAkB;IAChC,OAAOA,MAAM,IAAI,GAAV,IAAiBA,MAAM,GAAG,GAAjC;EACD;AALyB,CAAhB,CAAZ;AAOAR,KAAK,CAACS,WAAN,GAAoBV,QAAQ,CAACU,WAA7B;AACAT,KAAK,CAACU,QAAN,GAAiBX,QAAQ,CAACW,QAA1B;AACAV,KAAK,CAACW,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAUC,MAAV,EAAkB;EAC/C,IAAIC,KAAK,GAAGC,YAAY,CAACC,GAAb,CAAiB,cAAjB,CAAZ;;EACA,IAAIF,KAAJ,EAAW;IACTD,MAAM,CAACI,OAAP,CAAe,eAAf,IAAkC,YAAYH,KAA9C;EACD;;EACD,OAAOD,MAAP;AACD,CAND;AAOAd,KAAK,CAACW,YAAN,CAAmBQ,QAAnB,CAA4BN,GAA5B,CACE,UAAUM,QAAV,EAAoB;EAClB,OAAOA,QAAP;AACD,CAHH,EAIE,UAAUC,KAAV,EAAiB;EACf,IAAIA,KAAK,CAACD,QAAN,CAAeX,MAAf,KAA0B,GAA9B,EAAmC;IACjCa,KAAK,CAACC,QAAN,CAAe,aAAf;EACD;;EACD,OAAOC,OAAO,CAACC,MAAR,CAAeJ,KAAK,CAACD,QAArB,CAAP;AACD,CATH;AAWA,eAAenB,KAAf"},"metadata":{},"sourceType":"module"}